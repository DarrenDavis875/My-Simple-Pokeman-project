var pokemonRepository=function(){var t=[],o=$("#modal-container");function e(o){t.push(o)}function n(t){pokemonRepository.loadDetails(t).then(function(){$(".modal-title").html(""),$("#item-height").html(""),$("#item-weight").html(""),$("#pokemon-front").attr("src",""),i(t)})}function i(t){console.log(t);var o=$("<h5>"+t.name+"</h5>"),e=$("<p>Height: "+t.height+"</p>"),n=$("<p>Weight: "+t.weight+"</p>");$(".modal-title").html(o),$("#item-height").html(e),$("#item-weight").html(n),$("#pokemon-front").attr("src",t.imageUrlFront)}function a(){$(o).removeClass("is-visible")}return $(".pokemon_list"),$(document).ready(function(){$("#mySearchInput").on("keyup",function(){var t=$(this).val().toLowerCase();$(".pokemon_list *").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(t)>-1)})})}),$(o).on("click",a),$(window).keydown(function(t){"Escape"===t.key&&$(o).addClass("is-visible")&&a()}),{add:e,getAll:function(){return t},addListItem:function(t){var o=$(".pokemon_list"),e=$("<li>"),i=$('<button type="button" class="btn btn-primary btn-lg btn-block btn-list-group-item" data-toggle="modal" data-target="#pokemonModal">'+t.name+"</button>");e.append(i),o.append(e),$(i).on("click",function(){n(t)})},loadList:function(){return $.ajax("https://pokeapi.co/api/v2/pokemon/?limit=150").then(function(t){t.results.forEach(function(t){e({name:t.name,detailsUrl:t.url})})}).catch(function(t){console.error(t)})},loadDetails:function(t){var o=t.detailsUrl;return $.ajax(o).then(function(o){t.imageUrlFront=o.sprites.front_default,t.imageUrlBack=o.sprites.back_default,t.height=o.height,t.weight=o.weight}).catch(function(t){console.error(t)})},showDetails:n,showModal:i,hideModal:a}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(t){pokemonRepository.addListItem(t)})});